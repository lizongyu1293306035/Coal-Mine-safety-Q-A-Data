# 煤矿安全知识问答数据构建方法

## 0、使用的原始数据来源及出处

​	由于目前没有公开的较为权威的煤矿安全领域相关的问答数据集，故本文从网上搜索的关于煤矿安全的法规、规范以及煤矿安全技术管理措施方法等原始文本，最终经过数据处理得到的数据集。**（后期加上最终生成的数据规模）**

## 1、思路及方法论

- 主要方法：使用glm4、DeepSeek-V3超大参数的LLM生成高质量的煤矿安全领域问答数据集合；
- 具体流程：
  - 基于文本的语义完整性的原则以及保证最终生成的领域知识问答数据集的质量，将原始文本先按照**语义分割**成为一段段语义较为完整的文本块；
  - 通过不断的**prompt**调优，同时借助**GLM4**强大的自然语言理解能力和生成能力，为每个文本块生成信息覆盖全面的，有意义的，多种表达方式的问答数据集。
  - 虽然本文使用了不断优化后的prompt，但是信息量匮乏且无意义的“脏数据”少量存在以及格式错误的数据极少存在，故需要在生成完后经过人工审核，剔除掉这些“脏数据”；
  - 将生成的问答数据集统一合并为一个大文件并将其转换为ShareGPT风格数据集，如下所示。

```json
{
  "conversations": [
    [
      {
        "from": "human",
        "value": "矿山企业的安全设施建设需要经过哪些审查和验收程序？由哪个部门负责？"
      },
      {
        "from": "gpt",
        "value": "矿山企业的安全设施建设需要经过主管部门的审查批准和竣工验收程序。具体来说，主管部门负责审查批准矿山建设工程安全设施的设计，并负责矿山建设工程安全设施的竣工验收。这一过程由县级以上人民政府管理矿山企业的主管部门负责实施。"
      }
    ],
    [
      {
        "from": "human",
        "value": "矿山企业的主要负责人和安全工作人员需要接受什么样的培训？由谁组织？"
      },
      {
        "from": "gpt",
        "value": "矿山企业的主要负责人和安全工作人员需要接受矿山安全法律、法规和矿山安全规程的培训。这些培训工作由县级以上人民政府管理矿山企业的主管部门组织进行。"
      }
    ]
  ]
}
```

## 2、数据预处理

- 指代消解：原始数据文本中，存在较多的例如“本法规”，“本法律”等具有指代意义的词语，需要进行指代消解，使用正则表达式等匹配的方法将其剔除；
- 主语补足：生成的问答对存在主语不完整的问题，例如“根据第十八条，哪些情况属于矿山企业必须预防的事故隐患？”，需要对主语进行补充，补充后“根据中华人民共和国矿山安全法(2009修正)第十八条，哪些情况属于矿山企业必须预防的事故隐患？”；
- 剔除未作答的问答对：生成的问答对存在少量如下问答对`{"<input>": "矿井安全出口的设计是否需要专业人员的参与？", "<output>": "文本未明确提及，但根据安全规程和规范的要求，可能需要专业人员的参与。"}`,这类问答对也需要被剔除；

















